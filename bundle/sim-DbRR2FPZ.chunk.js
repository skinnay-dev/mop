import{m as t,d as e,a,r as s,C as n,z as i,M as o,I as r,b as l,c as p}from"./preset_utils-Bl-U8kfr.chunk.js";import{R as c}from"./suggest_reforges_action-D6SmvxwW.chunk.js";import{S as d,a as g,b as m,c as u,G as h,bb as I,be as S,bd as f,C as P,g as y,U as v,E as O,h as b,i as C,R,j as H,I as T,D as A,m as E,k,F as w,l as D,bf as M}from"./detailed_results-DjiBtJMj.chunk.js";import{A as G,M as x,O as W,T as L}from"./inputs-BNcVATZt.chunk.js";const U={type:"TypeAPL",prepullActions:[{action:{castSpell:{spellId:{spellId:57934}}},doAtValue:{const:{val:"-1s"}}},{action:{castSpell:{spellId:{otherId:"OtherActionPotion"}}},doAtValue:{const:{val:"-1s"}}}],priorityList:[{action:{autocastOtherCooldowns:{}}},{action:{condition:{and:{vals:[{not:{val:{auraIsActive:{auraId:{spellId:5171}}}}},{cmp:{op:"OpEq",lhs:{currentComboPoints:{}},rhs:{const:{val:"0"}}}}]}},strictSequence:{actions:[{castSpell:{spellId:{spellId:1752}}},{castSpell:{spellId:{spellId:5171}}}]}}},{action:{condition:{cmp:{op:"OpLe",lhs:{auraRemainingTime:{auraId:{spellId:5171}}},rhs:{const:{val:"1"}}}},castSpell:{spellId:{spellId:5171}}}},{action:{condition:{or:{vals:[{cmp:{op:"OpLe",lhs:{currentEnergy:{}},rhs:{const:{val:"40"}}}},{and:{vals:[{auraIsActive:{auraId:{spellId:2825,tag:-1}}},{auraIsKnown:{auraId:{spellId:109949}}}]}},{cmp:{op:"OpLe",lhs:{remainingTime:{}},rhs:{const:{val:"10"}}}},{and:{vals:[{cmp:{op:"OpEq",lhs:{currentComboPoints:{}},rhs:{const:{val:"5"}}}},{not:{val:{auraIsKnown:{auraId:{spellId:109949}}}}}]}}]}},castSpell:{spellId:{spellId:51690}}}},{action:{condition:{or:{vals:[{cmp:{op:"OpGt",lhs:{spellTimeToReady:{spellId:{spellId:51690}}},rhs:{const:{val:"15"}}}},{cmp:{op:"OpLe",lhs:{remainingTime:{}},rhs:{const:{val:"20"}}}}]}},castSpell:{spellId:{spellId:13750}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpGe",lhs:{currentComboPoints:{}},rhs:{const:{val:"5"}}}},{not:{val:{dotIsActive:{spellId:{spellId:1943}}}}},{not:{val:{auraIsActive:{auraId:{spellId:84747}}}}},{not:{val:{auraIsActive:{auraId:{spellId:13877}}}}},{not:{val:{auraIsActive:{auraId:{spellId:13750}}}}},{cmp:{op:"OpGe",lhs:{remainingTime:{}},rhs:{const:{val:"12"}}}},{not:{val:{auraIsActive:{auraId:{spellId:2825,tag:-1}}}}},{or:{vals:[{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:33876}}},{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:16511}}},{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:57386}}},{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:29859}}}]}}]}},castSpell:{spellId:{spellId:1943}}}},{action:{condition:{cmp:{op:"OpGe",lhs:{currentComboPoints:{}},rhs:{const:{val:"5"}}}},castSpell:{spellId:{spellId:2098}}}},{hide:!0,action:{condition:{cmp:{op:"OpLt",lhs:{dotRemainingTime:{spellId:{spellId:96648}}},rhs:{const:{val:"1.5"}}}},castSpell:{spellId:{spellId:5938}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpLe",lhs:{currentComboPoints:{}},rhs:{const:{val:"4"}}}},{not:{val:{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:84617}}}}},{cmp:{op:"OpGt",lhs:{auraRemainingTime:{auraId:{spellId:5171}}},rhs:{const:{val:"5"}}}}]}},castSpell:{spellId:{spellId:84617}}}},{hide:!0,action:{condition:{and:{vals:[{cmp:{op:"OpEq",lhs:{currentComboPoints:{}},rhs:{const:{val:"4"}}}},{not:{val:{auraIsActive:{sourceUnit:{type:"CurrentTarget"},auraId:{spellId:84617}}}}},{cmp:{op:"OpGt",lhs:{auraRemainingTime:{auraId:{spellId:5171}}},rhs:{const:{val:"3"}}}}]}},castSpell:{spellId:{spellId:84617}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpLt",lhs:{currentComboPoints:{}},rhs:{const:{val:"5"}}}},{cmp:{op:"OpLe",lhs:{currentEnergy:{}},rhs:{const:{val:"40"}}}}]}},castSpell:{spellId:{spellId:1776}}}},{action:{condition:{and:{vals:[{cmp:{op:"OpLt",lhs:{currentComboPoints:{}},rhs:{const:{val:"5"}}}}]}},castSpell:{spellId:{spellId:1752}}}},{action:{castSpell:{spellId:{spellId:57934}}}}]},q={items:[{id:71539,enchant:4209,gems:[68778,52211],reforging:140},{id:71610},{id:71541,enchant:4204,gems:[52212],reforging:168},{id:71415,enchant:4100,gems:[52212,52212],reforging:138},{id:71455,enchant:4102,gems:[52212,52212],reforging:153},{id:71428,randomSuffix:-136,enchant:4258,gems:[0],reforging:168},{id:71538,enchant:4107,gems:[52212,0],reforging:147},{id:71641,gems:[52220,52212],reforging:145},{id:71540,enchant:4126,gems:[52212,52220],reforging:145},{id:71467,enchant:4105,gems:[52212],reforging:145},{id:71216,gems:[52212],reforging:153},{id:71401,reforging:153},{id:69150},{id:69112},{id:71454,enchant:4099,reforging:145},{id:71427,enchant:4099,gems:[52212],reforging:161},{id:71611,reforging:147}]},B={items:[{id:78699,enchant:4209,gems:[68778,71879],reforging:147},{id:71610},{id:78368,enchant:4204,gems:[71879,71879],reforging:165},{id:71415,enchant:4100,gems:[71879,71879],reforging:138},{id:78664,enchant:4102,gems:[71879,71879,71879]},{id:78446,enchant:4258,gems:[71879,71879],reforging:147},{id:78679,enchant:4107,gems:[71879,71879],reforging:160},{id:78388,gems:[71879,71879,71879],reforging:145},{id:78708,enchant:4126,gems:[71879,71879,71848],reforging:145},{id:78462,enchant:4105,gems:[71879,71879],reforging:161},{id:78489,gems:[71879],reforging:160},{id:78413,gems:[71879],reforging:144},{id:77994},{id:77999},{id:77949,enchant:4099,gems:[71879],reforging:147},{id:77950,enchant:4099,gems:[71879],reforging:158},{id:78369,reforging:139}]},F={items:[{id:78794,enchant:4209,gems:[68778,52212],reforging:146},{id:77091,reforging:139},{id:78833,enchant:4204,gems:[52212,52211],reforging:144},{id:77095,enchant:1099,gems:[52212],reforging:146},{id:78759,enchant:4102,gems:[52212,52212,52212],reforging:165},{id:71994,enchant:4258,gems:[52212,52212,0],reforging:139},{id:78774,enchant:4107,gems:[52212,0],reforging:160},{id:77180,gems:[52212,52220,52212],reforging:165},{id:71985,enchant:4126,gems:[52212,52211,52211],reforging:167},{id:78467,enchant:4105,gems:[52212,52212],reforging:158},{id:77111,gems:[52211],reforging:168},{id:78494,gems:[52212],reforging:167},{id:77974},{id:77979},{id:78481,enchant:4099},{id:78422,enchant:4099,gems:[52212]},{id:78374}]},j=t("P1 Combat",{items:[{id:65241,enchant:4209,gems:[68778,52220],reforging:145},{id:65107,reforging:168},{id:65243,enchant:4204,gems:[52220],reforging:144},{id:69884,randomSuffix:-136,enchant:1099,reforging:168},{id:65239,enchant:4102,gems:[52212,52220],reforging:151},{id:65050,enchant:4258,gems:[0],reforging:145},{id:65240,enchant:4107,gems:[52212,0],reforging:153},{id:60231,gems:[52220,52212,52212],reforging:146},{id:65381,randomSuffix:-202,enchant:4126,gems:[52212,52220],reforging:168},{id:65144,enchant:4105,gems:[52212],reforging:168},{id:65367,randomSuffix:-136,reforging:165},{id:65082,reforging:145},{id:65026},{id:58181,reforging:138},{id:68130,randomSuffix:-136,enchant:4099,reforging:165},{id:68600,enchant:4099,reforging:144},{id:65095,reforging:146}]}),V=t("P3 Combat",q),_=t("Pre-Raid Combat",F),K=t("P4 Combat",B),z=e("Combat",U),N=a("Combat Standard",d.fromMap({[g.StatAgility]:2.85,[g.StatStrength]:1.05,[g.StatAttackPower]:1,[g.StatCritRating]:1.2,[g.StatHitRating]:2.5,[g.StatHasteRating]:1.58,[g.StatMasteryRating]:1.41,[g.StatExpertiseRating]:2.1},{[m.PseudoStatMainHandDps]:4.31,[m.PseudoStatOffHandDps]:1.32,[m.PseudoStatSpellHitPercent]:52,[m.PseudoStatPhysicalHitPercent]:249})),J=a("Combat 4PT12",d.fromMap({[g.StatAgility]:2.85,[g.StatStrength]:1.05,[g.StatAttackPower]:1,[g.StatCritRating]:1.16,[g.StatHitRating]:2.21,[g.StatHasteRating]:1.38,[g.StatMasteryRating]:1.28,[g.StatExpertiseRating]:2.1},{[m.PseudoStatMainHandDps]:4.31,[m.PseudoStatOffHandDps]:1.32,[m.PseudoStatSpellHitPercent]:46,[m.PseudoStatPhysicalHitPercent]:230})),Q={name:"Combat",data:u.create({talentsString:"",glyphs:h.create({major1:I.GlyphOfBladeFlurry,major3:I.GlyphOfGouge})})},X=S.create({classOptions:{mhImbue:f.InstantPoison,ohImbue:f.DeadlyPoison,thImbue:f.WoundPoison,applyPoisonsManually:!1,startingOverkillDuration:20,vanishBreakTime:.1}}),Y=P.create({flaskId:58087,foodId:62669,potId:58145,prepotId:58145,conjuredId:7676}),Z={distanceFromTarget:5},$=s(k.SpecCombatRogue,{cssClass:"combat-rogue-sim-ui",cssScheme:y.getCssClass(y.Rogue),knownIssues:[],epStats:[g.StatAgility,g.StatStrength,g.StatAttackPower,g.StatHitRating,g.StatCritRating,g.StatHasteRating,g.StatMasteryRating,g.StatExpertiseRating],epPseudoStats:[m.PseudoStatMainHandDps,m.PseudoStatOffHandDps,m.PseudoStatPhysicalHitPercent,m.PseudoStatSpellHitPercent],epReferenceStat:g.StatAttackPower,displayStats:v.createDisplayStatArray([g.StatHealth,g.StatStamina,g.StatAgility,g.StatStrength,g.StatAttackPower,g.StatMasteryRating,g.StatExpertiseRating],[m.PseudoStatPhysicalHitPercent,m.PseudoStatSpellHitPercent,m.PseudoStatPhysicalCritPercent,m.PseudoStatSpellCritPercent,m.PseudoStatMeleeHastePercent]),defaults:{gear:K.gear,epWeights:N.epWeights,statCaps:(new d).withStat(g.StatExpertiseRating,26*O),softCapBreakpoints:(()=>{const t=b.fromPseudoStat(m.PseudoStatSpellHitPercent,{breakpoints:[16.95,16.96,16.97,16.98,16.99,17],capType:C.TypeSoftCap,postCapEPs:[0,0,0,0,0,0]});return[b.fromPseudoStat(m.PseudoStatPhysicalHitPercent,{breakpoints:[8,27],capType:C.TypeSoftCap,postCapEPs:[0,0]}),t]})(),other:Z,consumables:Y,talents:Q.data,specOptions:X,raidBuffs:R.create({}),partyBuffs:H.create({}),individualBuffs:T.create({}),debuffs:A.create({})},playerInputs:{inputs:[G()]},playerIconInputs:[x(),W(),L()],includeBuffDebuffInputs:[n,i,o],excludeBuffDebuffInputs:[],otherInputs:{inputs:[r,l]},itemSwapSlots:[E.ItemSlotHead,E.ItemSlotNeck,E.ItemSlotShoulder,E.ItemSlotBack,E.ItemSlotChest,E.ItemSlotWrist,E.ItemSlotHands,E.ItemSlotWaist,E.ItemSlotLegs,E.ItemSlotFeet,E.ItemSlotFinger1,E.ItemSlotFinger2,E.ItemSlotTrinket1,E.ItemSlotTrinket2,E.ItemSlotMainHand,E.ItemSlotOffHand],encounterPicker:{showExecuteProportion:!1},presets:{epWeights:[N,J],talents:[Q],rotations:[z],gear:[_,j,V,K]},autoRotation:t=>{t.sim.encounter.targets.length;return z.rotation.rotation},raidSimPresets:[{spec:k.SpecCombatRogue,talents:Q.data,specOptions:X,consumables:Y,defaultFactionRaces:{[w.Unknown]:D.RaceUnknown,[w.Alliance]:D.RaceHuman,[w.Horde]:D.RaceOrc},defaultGear:{[w.Unknown]:{},[w.Alliance]:{1:j.gear},[w.Horde]:{1:j.gear}},otherDefaults:Z}]}),tt=(t,e)=>{if(e.getUseCustomEPValues())return t.getEpWeights();return t.getGear().getItemSetCount("Vestments of the Dark Phoenix")>=4?J.epWeights:N.epWeights};class et extends p{constructor(t,e){super(t,e,$),e.sim.waitForInit().then((()=>{new c(this,{updateSoftCaps:t=>{const a=tt(e,this.sim),s=t.find((t=>t.unitStat.equalsPseudoStat(m.PseudoStatPhysicalHitPercent)));if(s){const t=a.getPseudoStat(m.PseudoStatPhysicalHitPercent);s.postCapEPs=[.6*t,0]}return t},getEPDefaults:t=>tt(t,this.sim),updateGearStatsModifier:t=>{const a=e.getEquippedItem(E.ItemSlotMainHand)?.item.weaponType,s=e.getRace();return s==D.RaceHuman&&(a==M.WeaponTypeSword||a==M.WeaponTypeMace)||s==D.RaceOrc&&(a==M.WeaponTypeAxe||a==M.WeaponTypeFist)||s==D.RaceGnome&&(a==M.WeaponTypeDagger||a==M.WeaponTypeSword)?t.addStat(g.StatExpertiseRating,90):t}})})),this.player.changeEmitter.on((t=>{const e=this.player.getSpecOptions(),a=this.sim.encounter;if(!e.classOptions.applyPoisonsManually){const t=this.player.getGear().getEquippedItem(E.ItemSlotMainHand)?.item.weaponSpeed,s=this.player.getGear().getEquippedItem(E.ItemSlotOffHand)?.item.weaponSpeed;if(void 0===t||void 0===s)return;a.targets.length>3?(e.classOptions.mhImbue=f.InstantPoison,e.classOptions.ohImbue=f.InstantPoison):t<=s?(e.classOptions.mhImbue=f.DeadlyPoison,e.classOptions.ohImbue=f.InstantPoison):(e.classOptions.mhImbue=f.InstantPoison,e.classOptions.ohImbue=f.DeadlyPoison)}this.player.setSpecOptions(t,e)})),this.sim.encounter.changeEmitter.on((t=>{const e=this.player.getSpecOptions(),a=this.sim.encounter;if(!e.classOptions.applyPoisonsManually){const t=this.player.getGear().getEquippedItem(E.ItemSlotMainHand)?.item.weaponSpeed,s=this.player.getGear().getEquippedItem(E.ItemSlotOffHand)?.item.weaponSpeed;if(void 0===t||void 0===s)return;a.targets.length>3?(e.classOptions.mhImbue=f.InstantPoison,e.classOptions.ohImbue=f.InstantPoison):t<=s?(e.classOptions.mhImbue=f.DeadlyPoison,e.classOptions.ohImbue=f.InstantPoison):(e.classOptions.mhImbue=f.InstantPoison,e.classOptions.ohImbue=f.DeadlyPoison)}this.player.setSpecOptions(t,e)}))}}export{et as C};
